!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@odopod/odo-device")):"function"==typeof define&&define.amd?define(["exports","@odopod/odo-device"],e):e(t.OdoHelpers={},t.OdoDevice)}(this,function(t,e){"use strict";if(e=e&&e.hasOwnProperty("default")?e.default:e,Element.prototype.matches||(Element.prototype.matches=Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(t){for(var e=this;e&&!e.matches(t);)e=e.parentNode instanceof Element?e.parentNode:null;return e}),!window.requestAnimationFrame){var n=0;window.requestAnimationFrame=function(t){var e=(new Date).getTime(),i=Math.max(0,16-(e-n)),o=window.setTimeout(function(){t(e+i)},i);return n=e+i,o}}window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)});var i=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")};function o(){}var r=function(){function t(e){i(this,t),this.options=Object.assign({},t.Defaults,e),this._animationAmount=this.options.end-this.options.start,this._animationStart=+new Date,this._handler=this._animateLoop.bind(this),this.onfinish=o,this._requestId=requestAnimationFrame(this._handler)}return t.prototype._animateLoop=function(){var t=(new Date).getTime(),e=1-(this._animationStart+this.options.duration-t)/this.options.duration;if(e>=1)return this.options.step.call(this.options.context,this.options.end,1),this.onfinish.call(this.options.context),void this.dispose();e=this.options.easing(e),this._requestId=requestAnimationFrame(this._handler),this.options.step.call(this.options.context,this.options.start+this._animationAmount*e,e)},t.prototype.cancel=function(){cancelAnimationFrame(this._requestId),this.dispose()},t.prototype.dispose=function(){this._handler=null,this.options.context=null},t}();r.Defaults={start:0,end:1,duration:250,step:o,context:window,easing:function(t){return-.5*(Math.cos(Math.PI*t)-1)}};var s={defaultsTo:function(t,e){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.isDefined(t))?t:e},isString:function(t){return"string"==typeof t},isDefined:function(t){return void 0!==t&&null!==t},getNumberOption:function(t,e){var n=parseFloat(t);return s.defaultsTo(n,e,!Number.isNaN(n))},getStringOption:function(t,e){return s.defaultsTo(t,e,s.isString(t))},getPercentageOption:function(t,e){return s.isString(t)&&t.indexOf("%")>-1?s.getStringOption(t,e):s.getNumberOption(t,e)},noop:function(){}},a={getPointerEvent:function(t){return e.HAS_POINTER_EVENTS?t:null},getTransitionEndEvent:function(){var t=document.createElement("div");return t.style.transitionProperty="width","width"!==t.style.transitionProperty&&"webkitTransition"in t.style?"webkitTransitionEnd":{WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[e.Dom.TRANSITION]},getAnimationEndEvent:function(){return{WebkitAnimation:"webkitAnimationEnd",animation:"animationend"}[e.Dom.ANIMATION]},getTranslate:function(){return"translate("+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)+","+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)+")"}},u={CLICK:"click",DBLCLICK:"dblclick",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEMOVE:"mousemove",SELECTSTART:"selectstart",KEYPRESS:"keypress",KEYDOWN:"keydown",KEYUP:"keyup",BLUR:"blur",FOCUS:"focus",DEACTIVATE:"deactivate",FOCUSIN:"focusin",FOCUSOUT:"focusout",CHANGE:"change",SELECT:"select",SUBMIT:"submit",INPUT:"input",PROPERTYCHANGE:"propertychange",DRAGSTART:"dragstart",DRAG:"drag",DRAGENTER:"dragenter",DRAGOVER:"dragover",DRAGLEAVE:"dragleave",DROP:"drop",DRAGEND:"dragend",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",TOUCHCANCEL:"touchcancel",BEFOREUNLOAD:"beforeunload",CONTEXTMENU:"contextmenu",ERROR:"error",HELP:"help",LOAD:"load",LOSECAPTURE:"losecapture",READYSTATECHANGE:"readystatechange",RESIZE:"resize",SCROLL:"scroll",UNLOAD:"unload",HASHCHANGE:"hashchange",PAGEHIDE:"pagehide",PAGESHOW:"pageshow",POPSTATE:"popstate",COPY:"copy",PASTE:"paste",CUT:"cut",BEFORECOPY:"beforecopy",BEFORECUT:"beforecut",BEFOREPASTE:"beforepaste",ONLINE:"online",OFFLINE:"offline",MESSAGE:"message",CONNECT:"connect",TRANSITIONEND:a.getTransitionEndEvent(),ANIMATIONEND:a.getAnimationEndEvent(),POINTERCANCEL:a.getPointerEvent("pointercancel"),POINTERDOWN:a.getPointerEvent("pointerdown"),POINTERMOVE:a.getPointerEvent("pointermove"),POINTEROVER:a.getPointerEvent("pointerover"),POINTEROUT:a.getPointerEvent("pointerout"),POINTERUP:a.getPointerEvent("pointerup")},c={Stepper:r,scrollTo:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.noop,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,o={start:window.pageYOffset,end:t,duration:e,step:function(t){window.scrollTo(0,t)}};"function"==typeof i&&(o.easing=i),new c.Stepper(o).onfinish=n},fadeOutElement:function(t,e,n,i){return c.fadeElement(t,e,n,i,!0)},fadeInElement:function(t,e,n,i){return c.fadeElement(t,e,n,i,!1)},fadeElement:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.noop,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],r=c._getElement(t),a=e.bind(n),u=r.classList.contains(c.Classes.IN),l=r.classList.contains(c.Classes.FADE);if(!o&&u&&l||!o&&!l||o&&!u&&l){var d=c._getFakeEvent(r);return setTimeout(function(){a(d)},0),0}return!o&&i&&t.classList.remove(c.Classes.INVISIBLE),t.classList.add(c.Classes.FADE),t.classList.toggle(c.Classes.IN,!o),c.onTransitionEnd(t,function(t){o&&i&&t.currentTarget.classList.add(c.Classes.INVISIBLE),a(t)},null,"opacity")},_getElement:function(t){if(t.jquery){if(t.length>1)throw new TypeError("This method only supports transition end for one element, not a collection");return t[0]}return t},_isOwnEvent:function(t){return t.target===t.currentTarget},_isSameTransitionProperty:function(t,e){return t.fake||!s.isDefined(e)||t.propertyName===e},_getFakeEvent:function(t){return{target:t,currentTarget:t,fake:!0}},onTransitionEnd:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=c._getElement(t),a=n.bind(i);c._transitionId+=1;var l=c._transitionId,d=void 0;function h(t){c._isOwnEvent(t)&&c._isSameTransitionProperty(t,o)&&(delete c._transitions[l],e.HAS_TRANSITIONS&&t.currentTarget.removeEventListener(u.TRANSITIONEND,h),a(t),clearTimeout(d))}return e.HAS_TRANSITIONS?(s.addEventListener(u.TRANSITIONEND,h),r&&(d=setTimeout(function(){h(c._getFakeEvent(s))},r))):d=setTimeout(function(){h(c._getFakeEvent(s))},0),c._transitions[l]={element:s,timerId:d,listener:h},l},cancelTransitionEnd:function(t){var n=this._transitions[t];return!!n&&(clearTimeout(n.timerId),e.HAS_TRANSITIONS&&n.element.removeEventListener(u.TRANSITIONEND,n.listener),delete this._transitions[t],!0)},onAnimationEnd:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,o=c._getElement(t),r=n.bind(i);function s(t){c._isOwnEvent(t)&&(e.HAS_CSS_ANIMATIONS&&t.currentTarget.removeEventListener(u.ANIMATIONEND,s),r(t))}e.HAS_CSS_ANIMATIONS?o.addEventListener(u.ANIMATIONEND,s):setTimeout(function(){s(c._getFakeEvent(o))},0)}};c.scrollToTop=c.scrollTo,c.Classes={FADE:"fade",IN:"in",INVISIBLE:"invisible"},c._transitions={},c._transitionId=0;var l={closest:function(t,e){var n=null;return t.reduce(function(t,i){var o=Math.abs(i-e);return o<t?(n=i,o):t},1/0),n},closestLessThan:function(t,e){return l.closest(t.filter(function(t){return t<e}),e)},closestGreaterThan:function(t,e){return l.closest(t.filter(function(t){return t>e}),e)},chunk:function(t,e){if(!e)return[];for(var n=Math.ceil(t.length/e),i=new Array(n),o=0,r=0;o<n;r+=e,o++)i[o]=t.slice(r,r+e);return i},getLongestString:function(t){for(var e=0,n=1;n<t.length;n++)t[n].length>t[e].length&&(e=n);return t[e]},remove:function(t,e){var n=t.indexOf(e);return-1===n?null:(t.splice(n,1),e)}};function d(t){if("string"!=typeof t)throw new Error("Hash must be of type string");return t.replace(/^#/,"")}var h={isAndroidOS:function(t){return t.includes("Mozilla/5.0")&&t.includes("Android ")},isIOS:function(t){return/(iPad|iPhone|iPod)/g.test(t)},hasScrollEvents:function(t){return this.isIOS(t)?this.getIOSVersion(t)>=800:!h.isNativeAndroid(t)},getIOSVersion:function(t){var e=t.match(/OS\s+([\d_]+)/i)[1].split("_");return 2===e.length&&(e[2]=0),parseInt(e.reduce(function(t,e){return t+e},""),10)},isEdge:function(t){return t.includes("Edge/")},isIE:function(t){return t.includes("Trident/")},isChrome:function(t){return!h.isEdge(t)&&t.includes("Chrome")},isNativeAndroid:function(t){return h.isAndroidOS(t)&&!h.isChrome(t)},setHash:function(t){var e=d(t),n=void 0;e||(n=window.pageYOffset),window.location.hash=e,e||window.scrollTo(0,n)},replaceWithHash:function(t){var e=d(t);window.history.replaceState?(e=(e=d(e))?"#"+e:window.location.pathname+window.location.search,window.history.replaceState({},null,e)):h.setHash(e)}},f=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;i(this,t),this.x=e,this.y=n}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.scale=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return this.x*=t,this.y*=e,this},t.prototype.translate=function(e,n){return e instanceof t?(this.x+=e.x,this.y+=e.y):(this.x+=e,this.y+=n),this},t.equals=function(t,e){return t===e||!(!t||!e)&&(t.x===e.x&&t.y===e.y)},t.distance=function(t,e){var n=t.x-e.x,i=t.y-e.y;return Math.sqrt(n*n+i*i)},t.difference=function(e,n){return new t(e.x-n.x,e.y-n.y)},t.sum=function(e,n){return new t(e.x+n.x,e.y+n.y)},t.product=function(e,n){return new t(e.x*n.x,e.y*n.y)},t.quotient=function(e,n){return new t(e.x/n.x,e.y/n.y)},t.scale=function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n;return new t(e.x*n,e.y*i)},t}(),p={getFirstElementChild:function(t){return t.firstElementChild},removeChildren:function(t){t.textContent=""},getChildren:function(t){return Array.from(t.children)},swapElements:function(t,e){if(t&&e){var n=t.parentNode,i=t.nextSibling,o=e.parentNode,r=e.nextSibling;n.insertBefore(e,i),o.insertBefore(t,r)}},giveId:function(t,e){t.id||(t.id="function"==typeof e?e():e)},getRelativeDepth:function(t,e){for(var n=0,i=t;i;){if(i===e)return n;i=i.parentNode,n+=1}return-1},getNthSibling:function(t,e,n){var i=!1!==n,o=0,r=t;do{r=i?r.nextElementSibling:r.previousElementSibling,o+=1}while(r&&o<e);return r},ready:new Promise(function(t){"interactive"===document.readyState?t():document.addEventListener("DOMContentLoaded",function e(){document.removeEventListener("DOMContentLoaded",e),t()})}),loaded:new Promise(function(t){"complete"===document.readyState?t():window.addEventListener("load",function e(){window.removeEventListener("load",e),t()})})},g=function(){function t(e,n,o,r){i(this,t),this.left=e,this.top=n,this.width=o,this.height=r}return t.intersects=function(t,e){return t.left<=e.left+e.width&&e.left<=t.left+t.width&&t.top<=e.top+e.height&&e.top<=t.top+t.height},t}(),m={clamp:function(t,e,n){return Math.min(Math.max(t,e),n)},wrapAroundList:function(t,e,n){return(t+e+10*n)%n},Box:function t(e,n,o,r){i(this,t),this.top=e,this.right=n,this.bottom=o,this.left=r},Rect:g,getAugmentedRect:function(t,e,n,i){var o=new g(t,e,n,i);return o.right=o.left+o.width,o.bottom=o.top+o.height,o}},E={capitalize:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},hyphenate:function(t){return t?t.replace(/([A-Z])/g,function(t,e){return"-"+e.toLowerCase()}).replace(/^ms-/,"-ms-"):""},random:function(){return Math.random().toString(36).substring(7)}},v={getSize:function(t){return{width:t.offsetWidth,height:t.offsetHeight}},getFloat:function(t){return parseFloat(t)||0},_getBox:function(t,e){var n=window.getComputedStyle(t,null);return new m.Box(v.getFloat(n[e+"Top"]),v.getFloat(n[e+"Right"]),v.getFloat(n[e+"Bottom"]),v.getFloat(n[e+"Left"]))},getMarginBox:function(t){return v._getBox(t,"margin")},getPaddingBox:function(t){return v._getBox(t,"padding")},getElementsSize:function(t,e){return t.reduce(function(t,n){var i=v.getSize(n)[e],o=v.getMarginBox(n);return t+i+("height"===e?o.top+o.bottom:o.left+o.right)},0)},getWindowHeight:function(){return window.innerHeight},forceRedraw:function(){var t=document.createElement("style");document.body.appendChild(t),document.body.removeChild(t)},causeLayout:function(t){return t.offsetWidth},_getTallest:function(t){for(var e=0,n=t.length-1;n>=0;n--)t[n].offsetHeight>e&&(e=t[n].offsetHeight);return e},_setAllHeights:function(t,e){for(var n=t.length-1;n>=0;n--)t[n].style.height=e},evenHeights:function(t){var e=Array.from(t),n=!0;e[0]&&e[0].nodeType&&(n=!1,e=[e]),e.forEach(function(t){v._setAllHeights(t,"")});var i=e.map(function(t){return v._getTallest(t)});return e.forEach(function(t,e){v._setAllHeights(t,i[e]+"px")}),n?i:i[0]}},T=function(){function t(e,n){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];i(this,t),this.timerId=null,this.startTime=null,this.isPaused=!1,this.isTicking=!1,this.isContinuous=o,this.delay=n,this.remaining=n,this.fn=e,this.resume=this.start,this.pause=this.stop}return t.prototype.start=function(){var t=this;return!this.isTicking&&(this.startTime=Date.now(),this.timerId=setTimeout(function(){t.fn(),!t.isPaused&&t.isContinuous?t.restart():t.reset()},this.remaining),this.isTicking=!0,this.isPaused=!1,this.remaining)},t.prototype.stop=function(){return this.clear(),this.remaining-=Date.now()-this.startTime,this.isPaused=!0,this.isTicking=!1,this.remaining},t.prototype.reset=function(){this.remaining=this.delay,this.clear()},t.prototype.restart=function(){this.reset(),this.resume()},t.prototype.clear=function(){clearTimeout(this.timerId),this.isPaused=!1,this.isTicking=!1},t.prototype.dispose=function(){this.clear(),this.fn=null},t}();t.animation=c,t.array=l,t.browser=h,t.Coordinate=f,t.device=a,t.dom=p,t.events=u,t.math=m,t.string=E,t.style=v,t.Timer=T,t.utilities=s,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=odo-helpers.min.js.map
