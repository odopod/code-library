!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.OdoExpandable=e()}(this,function(){"use strict";var t={ClassName:{TRIGGER_OPEN:"odo-expandable__trigger--open",TARGET_OPEN:"odo-expandable__target--open"},Attribute:{TRIGGER:"data-expandable-trigger",TARGET:"data-expandable-target",GROUP:"data-expandable-group"},Defaults:{groupedItem:!1}},e=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},i=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}(),r=function(){function i(r){e(this,i),this._elements=r,this._expandables=r.map(function(e){return new n(e.getAttribute(t.Attribute.TRIGGER),{groupedItem:!0})}),this._onClick=this._onClickHandler.bind(this),document.body.addEventListener("click",this._onClick)}return i.prototype._onClickHandler=function(e){e.preventDefault();var i=e.target.closest("["+t.Attribute.TRIGGER+"]");this._elements.includes(i)&&this._toggleGroupVisibility(i.getAttribute(t.Attribute.TRIGGER))},i.prototype._toggleGroupVisibility=function(t){this._expandables.forEach(function(e){e.id===t?e.toggle():e.close()})},i.prototype.dispose=function(){document.body.removeEventListener("click",this._onTriggerClick),this._expandables.forEach(function(t){return t.dispose()})},i}(),n=function(){function n(i){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e(this,n),this.id=i,this.options=Object.assign({},t.Defaults,r),this._trigger=document.body.querySelector("["+t.Attribute.TRIGGER+'="'+i+'"]'),this._target=document.body.querySelector("["+t.Attribute.TARGET+'="'+i+'"]'),this._setA11yAttributes(),this.options.groupedItem||(this._onTriggerClick=this._triggerClickHandler.bind(this),document.body.addEventListener("click",this._onTriggerClick))}return n.prototype._triggerClickHandler=function(e){e.preventDefault(),e.target.closest("["+t.Attribute.TRIGGER+"]")===this._trigger&&this.toggle()},n.prototype._setA11yAttributes=function(){var t="expandable-"+this.id;this._trigger.setAttribute("aria-describedby",t),this._target.setAttribute("id",t),this._trigger.setAttribute("aria-expanded",this.isOpen.toString()),this._trigger.setAttribute("aria-controls",t),this._target.setAttribute("aria-labelledby",t),this._target.setAttribute("aria-hidden",(!this.isOpen).toString())},n.prototype._removeA11yAttributes=function(){this._trigger.removeAttribute("aria-describedby"),this._target.removeAttribute("id"),this._trigger.removeAttribute("aria-expanded"),this._target.removeAttribute("aria-labelledby"),this._target.removeAttribute("aria-hidden")},n.prototype.toggle=function(){this.isOpen?this.close():this.open()},n.prototype.open=function(){this._target.classList.add(t.ClassName.TARGET_OPEN),this._trigger.classList.add(t.ClassName.TRIGGER_OPEN),this._trigger.setAttribute("aria-expanded","true"),this._target.setAttribute("aria-hidden","false")},n.prototype.close=function(){this._target.classList.remove(t.ClassName.TARGET_OPEN),this._trigger.classList.remove(t.ClassName.TRIGGER_OPEN),this._trigger.setAttribute("aria-expanded","false"),this._target.setAttribute("aria-hidden","true")},n.prototype.dispose=function(){this.options.groupedItem||document.body.removeEventListener("click",this._onTriggerClick),this._removeA11yAttributes()},n.initializeAll=function(){var e=Array.from(document.querySelectorAll("["+t.Attribute.TRIGGER+"]")),i=[],s=[],o=[];e.forEach(function(r){var n=r.getAttribute(t.Attribute.GROUP);n?o.indexOf(n)<0&&(s.push(e.filter(function(e){return e.getAttribute(t.Attribute.GROUP)===n})),o.push(n)):i.push(r)});var a=i.map(function(e){return new n(e.getAttribute(t.Attribute.TRIGGER))}),u=s.map(function(t){return new r(t)});return a.concat(u)},i(n,[{key:"isOpen",get:function(){return this._target.classList.contains(t.ClassName.TARGET_OPEN)}}]),n}();return Object.assign(n,t),n});
//# sourceMappingURL=odo-expandable.min.js.map
