!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.OdoExpandable=e()}(this,function(){"use strict";var t={ClassName:{TRIGGER_OPEN:"expandable__trigger--open",TARGET_OPEN:"expandable__target--open"},Attribute:{TRIGGER:"data-expandable-trigger",TARGET:"data-expandable-target",GROUP:"data-expandable-group"},Defaults:{groupedItem:!1}},e=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},i=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}(),r=function(){function i(r){e(this,i),this._elements=r,this._expandables=r.map(function(e){return new n(e.getAttribute(t.Attribute.TRIGGER),{groupedItem:!0})}),this._bindListeners()}return i.prototype._bindListeners=function(){this._onClick=this._onClickHandler.bind(this),document.body.addEventListener("click",this._onClick)},i.prototype._onClickHandler=function(e){e.preventDefault();var i=e.target.closest("["+t.Attribute.TRIGGER+"]");null!==i&&this._elements.includes(i)&&this._toggleGroupVisibility(i.getAttribute(t.Attribute.TRIGGER))},i.prototype._toggleGroupVisibility=function(t){this._expandables.forEach(function(e){e.id===t?e.toggle():e.close()})},i.prototype.dispose=function(){document.body.removeEventListener("click",this._onTriggerClick),this._expandables.forEach(function(t){return t.dispose()})},i}(),n=function(){function n(i){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e(this,n),this.id=i,this.options=Object.assign({},t.Defaults,r),this._trigger=document.body.querySelector("["+t.Attribute.TRIGGER+'="'+i+'"]'),this._target=document.body.querySelector("["+t.Attribute.TARGET+'="'+i+'"]'),this._setARIAAttributes(),this._bindListeners()}return n.prototype._bindListeners=function(){this.options.groupedItem||(this._onTriggerClick=this._triggerClickHandler.bind(this),document.body.addEventListener("click",this._onTriggerClick))},n.prototype._triggerClickHandler=function(e){e.preventDefault();var i=e.target.closest("["+t.Attribute.TRIGGER+"]");null!==i&&i===this._trigger&&this.toggle()},n.prototype._setARIAAttributes=function(){var t="expandable-"+this.id;this._trigger.setAttribute("aria-describedby",t),this._target.setAttribute("id",t),this._target.setAttribute("role","region"),this._target.setAttribute("aria-expanded","true")},n.prototype._removeARIAAttributes=function(){this._trigger.removeAttribute("aria-describedby"),this._target.removeAttribute("id"),this._target.removeAttribute("role"),this._target.removeAttribute("aria-expanded")},n.prototype.toggle=function(){this.isOpen?this.close():this.open()},n.prototype.open=function(){this._target.classList.add(t.ClassName.TARGET_OPEN),this._trigger.classList.add(t.ClassName.TRIGGER_OPEN),this._target.setAttribute("aria-expanded","true")},n.prototype.close=function(){this._target.classList.remove(t.ClassName.TARGET_OPEN),this._trigger.classList.remove(t.ClassName.TRIGGER_OPEN),this._target.setAttribute("aria-expanded","false")},n.prototype.dispose=function(){this.options.groupedItem||document.body.removeEventListener("click",this._onTriggerClick),this._removeARIAAttributes()},n.initializeAll=function(){var e=Array.from(document.querySelectorAll("["+t.Attribute.TRIGGER+"]")),i=[],o=[],s=[];e.forEach(function(r){if(r.getAttribute(t.Attribute.GROUP)){var n=r.getAttribute(t.Attribute.GROUP);s.indexOf(n)<0&&(o.push(e.filter(function(e){return e.getAttribute(t.Attribute.GROUP)===n})),s.push(n))}else i.push(r)});var a=i.map(function(e){return new n(e.getAttribute(t.Attribute.TRIGGER))}),u=o.map(function(t){return new r(t)});return a.concat(u)},i(n,[{key:"isOpen",get:function(){return this._target.classList.contains(t.ClassName.TARGET_OPEN)}}]),n}();return Object.assign(n,t),n});
//# sourceMappingURL=odo-expandable.min.js.map
