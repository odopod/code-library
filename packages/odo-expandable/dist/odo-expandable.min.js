!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.OdoExpandable={})}(this,function(t){"use strict";var e={ClassName:{TRIGGER_OPEN:"odo-expandable__trigger--open",TARGET_OPEN:"odo-expandable__target--open"},Attribute:{TRIGGER:"data-expandable-trigger",TARGET:"data-expandable-target",GROUP:"data-expandable-group"},Defaults:{groupedItem:!1}},i=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},r=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}(),n=function(){function t(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,t),this.id=r,this.options=Object.assign({},e.Defaults,n),this._trigger=document.body.querySelector("["+e.Attribute.TRIGGER+'="'+r+'"]'),this._target=document.body.querySelector("["+e.Attribute.TARGET+'="'+r+'"]'),this._setA11yAttributes(),this.options.groupedItem||(this._onTriggerClick=this._triggerClickHandler.bind(this),document.body.addEventListener("click",this._onTriggerClick))}return t.prototype._triggerClickHandler=function(t){t.preventDefault(),t.target.closest("["+e.Attribute.TRIGGER+"]")===this._trigger&&this.toggle()},t.prototype._setA11yAttributes=function(){var t="expandable-"+this.id;this._trigger.setAttribute("aria-describedby",t),this._target.setAttribute("id",t),this._trigger.setAttribute("aria-expanded",this.isOpen.toString()),this._trigger.setAttribute("aria-controls",t),this._target.setAttribute("aria-labelledby",t),this._target.setAttribute("aria-hidden",(!this.isOpen).toString())},t.prototype._removeA11yAttributes=function(){this._trigger.removeAttribute("aria-describedby"),this._target.removeAttribute("id"),this._trigger.removeAttribute("aria-expanded"),this._target.removeAttribute("aria-labelledby"),this._target.removeAttribute("aria-hidden")},t.prototype.toggle=function(){this.isOpen?this.close():this.open()},t.prototype.open=function(){this._target.classList.add(e.ClassName.TARGET_OPEN),this._trigger.classList.add(e.ClassName.TRIGGER_OPEN),this._trigger.setAttribute("aria-expanded","true"),this._target.setAttribute("aria-hidden","false")},t.prototype.close=function(){this._target.classList.remove(e.ClassName.TARGET_OPEN),this._trigger.classList.remove(e.ClassName.TRIGGER_OPEN),this._trigger.setAttribute("aria-expanded","false"),this._target.setAttribute("aria-hidden","true")},t.prototype.dispose=function(){this.options.groupedItem||document.body.removeEventListener("click",this._onTriggerClick),this._removeA11yAttributes()},t.initialize=function(){},r(t,[{key:"isOpen",get:function(){return this._target.classList.contains(e.ClassName.TARGET_OPEN)}}]),t}();Object.assign(n,e);var s=function(){function t(r){i(this,t),this._elements=r,this._expandables=r.map(function(t){return new n(t.getAttribute(e.Attribute.TRIGGER),{groupedItem:!0})}),this._onClick=this._onClickHandler.bind(this),document.body.addEventListener("click",this._onClick)}return t.prototype._onClickHandler=function(t){t.preventDefault();var i=t.target.closest("["+e.Attribute.TRIGGER+"]");this._elements.includes(i)&&this._toggleGroupVisibility(i.getAttribute(e.Attribute.TRIGGER))},t.prototype._toggleGroupVisibility=function(t){this._expandables.forEach(function(e){e.id===t?e.toggle():e.close()})},t.prototype.dispose=function(){document.body.removeEventListener("click",this._onTriggerClick),this._expandables.forEach(function(t){return t.dispose()})},t}();Object.assign(s,e),t.initializeAll=function(){var t=Array.from(document.querySelectorAll("["+e.Attribute.TRIGGER+"]")),i=[],r=[],o=[];t.forEach(function(n){var s=n.getAttribute(e.Attribute.GROUP);s?o.includes(s)&&(r.push(t.filter(function(t){return t.getAttribute(e.Attribute.GROUP)===s})),o.push(s)):i.push(n)});var a=i.map(function(t){return new n(t.getAttribute(e.Attribute.TRIGGER))}),u=r.map(function(t){return new s(t)});return a.concat(u)},t.ExpandableItem=n,t.ExpandableGroup=s,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=odo-expandable.min.js.map
